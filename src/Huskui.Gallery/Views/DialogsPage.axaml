<controls:ControlPage
    x:Class="Huskui.Gallery.Views.DialogsPage"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="clr-namespace:Huskui.Gallery.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:husk="https://github.com/d3ara1n/Huskui.Avalonia"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    d:DesignHeight="450"
    d:DesignWidth="800"
    mc:Ignorable="d">
    <StackPanel Spacing="32">

        <controls:ExampleContainer
            Title="Confirmation Dialogs"
            Description="Binary choice dialogs for user confirmation">
            <controls:ExampleContainer.Controls>
                <StackPanel Spacing="12">
                    <TextBlock
                        FontSize="14"
                        FontWeight="Bold"
                        Text="Confirmation Controls" />
                    <Button
                        Click="OnShowDeleteConfirmClick"
                        Content="Delete Confirmation" />
                    <Button
                        Click="OnShowSaveConfirmClick"
                        Content="Save Changes" />
                    <Button
                        Click="OnShowEmailInputClick"
                        Content="Email Input" />
                    <Button
                        Click="OnShowExitConfirmClick"
                        Content="Exit Application" />
                    <TextBlock
                        FontSize="12"
                        Foreground="{StaticResource ControlSecondaryForegroundBrush}"
                        Text="Click buttons to show confirmation dialogs with Primary/Secondary commands."
                        TextWrapping="Wrap" />
                </StackPanel>
            </controls:ExampleContainer.Controls>

            <StackPanel
                Width="400"
                Spacing="16">
                <husk:Card Padding="16">
                    <StackPanel Spacing="12">
                        <TextBlock
                            FontSize="16"
                            FontWeight="Bold"
                            Text="Dialog Purpose" />
                        <TextBlock
                            Text="Dialogs are designed for pure user input collection with binary choices. They only have PrimaryCommand (positive/affirmative) and SecondaryCommand (negative/cancel) actions."
                            TextWrapping="Wrap" />
                        <TextBlock
                            Foreground="{StaticResource ControlSecondaryForegroundBrush}"
                            Text="Use dialogs when you need a clear yes/no, confirm/cancel, or save/discard decision from the user."
                            TextWrapping="Wrap" />
                    </StackPanel>
                </husk:Card>
            </StackPanel>
        </controls:ExampleContainer>

        <controls:ExampleContainer
            Title="Input Dialogs"
            Description="Dialogs for collecting simple user input">
            <controls:ExampleContainer.Controls>
                <StackPanel Spacing="12">
                    <TextBlock
                        FontSize="14"
                        FontWeight="Bold"
                        Text="Input Collection" />
                    <Button
                        Click="OnShowRenameDialogClick"
                        Content="Rename File" />
                    <Button
                        Click="OnShowCreateFolderClick"
                        Content="Create Folder" />
                    <Button
                        Click="OnShowPasswordDialogClick"
                        Content="Set Password" />
                    <TextBlock
                        FontSize="12"
                        Foreground="{StaticResource ControlSecondaryForegroundBrush}"
                        Text="These dialogs collect simple input with clear accept/cancel actions."
                        TextWrapping="Wrap" />
                </StackPanel>
            </controls:ExampleContainer.Controls>

            <StackPanel
                Width="450"
                Spacing="16">
                <husk:Card Padding="16">
                    <StackPanel Spacing="12">
                        <TextBlock
                            FontSize="16"
                            FontWeight="Bold"
                            Text="Input Patterns" />
                        <StackPanel Spacing="8">
                            <TextBlock Text="• Single text input (filename, folder name)" />
                            <TextBlock Text="• Password or sensitive data entry" />
                            <TextBlock Text="• Simple configuration values" />
                            <TextBlock Text="• Quick data collection with validation" />
                        </StackPanel>
                    </StackPanel>
                </husk:Card>
            </StackPanel>
        </controls:ExampleContainer>

        <controls:ExampleContainer
            Title="Decision Dialogs"
            Description="Critical decision points requiring user choice">
            <controls:ExampleContainer.Controls>
                <StackPanel Spacing="12">
                    <TextBlock
                        FontSize="14"
                        FontWeight="Bold"
                        Text="Decision Points" />
                    <Button
                        Click="OnShowUnsavedChangesClick"
                        Content="Unsaved Changes" />
                    <Button
                        Click="OnShowOverwriteDialogClick"
                        Content="Overwrite File" />
                    <Button
                        Click="OnShowPermanentActionClick"
                        Content="Permanent Action" />
                    <TextBlock
                        FontSize="12"
                        Foreground="{StaticResource ControlSecondaryForegroundBrush}"
                        Text="Critical decisions that require explicit user confirmation."
                        TextWrapping="Wrap" />
                </StackPanel>
            </controls:ExampleContainer.Controls>

            <StackPanel
                Width="500"
                Spacing="16">
                <Grid
                    ColumnDefinitions="*,*"
                    ColumnSpacing="16">
                    <husk:Card
                        Grid.Column="0"
                        Padding="16">
                        <StackPanel Spacing="8">
                            <TextBlock
                                FontWeight="Bold"
                                Text="⚠️ Destructive Actions" />
                            <TextBlock
                                FontSize="12"
                                Text="Delete, overwrite, or permanent changes"
                                TextWrapping="Wrap" />
                        </StackPanel>
                    </husk:Card>

                    <husk:Card
                        Grid.Column="1"
                        Padding="16">
                        <StackPanel Spacing="8">
                            <TextBlock
                                FontWeight="Bold"
                                Text="💾 Data Loss Prevention" />
                            <TextBlock
                                FontSize="12"
                                Text="Save/discard unsaved changes"
                                TextWrapping="Wrap" />
                        </StackPanel>
                    </husk:Card>
                </Grid>
            </StackPanel>
        </controls:ExampleContainer>

        <controls:ExampleContainer
            Title="Dialog Result Validation"
            CSharpCode="protected override bool ValidateResult(object? result)&#xA;    =&gt; EmailRegex.IsMatch(result as string ?? &quot;&quot;);&#xA;&#xA;// Usage:&#xA;appWindow.PopDialog(dialog);&#xA;if (await dialog.CompletionSource.Task)&#xA;    var result = dialog.Result;"
            Description="Dialog with Result property binding and validation"
            XamlCode="&lt;TextBox Text=&quot;{Binding Result, RelativeSource={RelativeSource AncestorType=husk:Dialog}}&quot; /&gt;">
            <controls:ExampleContainer.Controls>
                <StackPanel Spacing="12">
                    <TextBlock
                        FontSize="14"
                        FontWeight="Bold"
                        Text="Result Validation Example" />
                    <Button
                        Click="OnShowEmailInputClick"
                        Content="Email Input Dialog" />
                    <TextBlock
                        FontSize="12"
                        Foreground="{StaticResource ControlSecondaryForegroundBrush}"
                        Text="This dialog demonstrates Result property binding, ValidateResult override, and CompletionSource usage."
                        TextWrapping="Wrap" />
                </StackPanel>
            </controls:ExampleContainer.Controls>

            <StackPanel
                Width="500"
                Spacing="16">
                <husk:Card Padding="16">
                    <StackPanel Spacing="12">
                        <TextBlock
                            FontSize="16"
                            FontWeight="Bold"
                            Text="Result Validation Pattern" />

                        <TextBlock
                            FontSize="13"
                            Text="Dialog uses the Result property as a data binding intermediary for validation and return values. Override ValidateResult method to determine result validity and control Primary button availability."
                            TextWrapping="Wrap" />

                        <StackPanel Spacing="8">
                            <TextBlock
                                FontSize="12"
                                FontWeight="Medium"
                                Text="Key Features:" />
                            <StackPanel
                                Margin="12,0,0,0"
                                Spacing="4">
                                <TextBlock
                                    FontSize="12"
                                    Text="• Result property: Two-way binding with user input" />
                                <TextBlock
                                    FontSize="12"
                                    Text="• ValidateResult method: Override for custom validation logic" />
                                <TextBlock
                                    FontSize="12"
                                    Text="• Primary button state: Auto-enabled/disabled based on validation" />
                                <TextBlock
                                    FontSize="12"
                                    Text="• CompletionSource: Async await for user operation results" />
                            </StackPanel>
                        </StackPanel>

                        <StackPanel Spacing="8">
                            <TextBlock
                                FontSize="12"
                                FontWeight="Medium"
                                Text="Workflow:" />
                            <StackPanel
                                Margin="12,0,0,0"
                                Spacing="4">
                                <TextBlock
                                    FontSize="12"
                                    Text="1. User inputs data in bound controls" />
                                <TextBlock
                                    FontSize="12"
                                    Text="2. Data updates Dialog.Result through binding" />
                                <TextBlock
                                    FontSize="12"
                                    Text="3. ValidateResult automatically validates data" />
                                <TextBlock
                                    FontSize="12"
                                    Text="4. Primary button enables/disables based on validation" />
                                <TextBlock
                                    FontSize="12"
                                    Text="5. Result returned via CompletionSource on confirmation" />
                            </StackPanel>
                        </StackPanel>
                    </StackPanel>
                </husk:Card>
            </StackPanel>
        </controls:ExampleContainer>

        <controls:ExampleContainer
            Title="Dialog Best Practices"
            Description="Guidelines for effective dialog usage">
            <StackPanel
                Width="600"
                Spacing="16">
                <husk:Card Padding="20">
                    <StackPanel Spacing="16">
                        <TextBlock
                            FontSize="18"
                            FontWeight="Bold"
                            Text="Design Guidelines" />

                        <StackPanel Spacing="12">
                            <StackPanel Spacing="4">
                                <TextBlock
                                    FontWeight="Bold"
                                    Foreground="Green"
                                    Text="✅ Do" />
                                <TextBlock Text="• Use clear, actionable button labels (Save/Cancel, Delete/Keep)" />
                                <TextBlock Text="• Keep content focused on the single decision" />
                                <TextBlock Text="• Make the primary action obvious and safe" />
                                <TextBlock Text="• Provide clear context for the decision" />
                            </StackPanel>

                            <husk:Divider />

                            <StackPanel Spacing="4">
                                <TextBlock
                                    FontWeight="Bold"
                                    Foreground="Red"
                                    Text="❌ Don't" />
                                <TextBlock Text="• Use for complex interactions (use Modal instead)" />
                                <TextBlock Text="• Add more than two action buttons" />
                                <TextBlock Text="• Use vague labels like 'OK' or 'Yes'" />
                                <TextBlock Text="• Include complex forms or multiple inputs" />
                            </StackPanel>
                        </StackPanel>

                        <husk:Divider />

                        <StackPanel Spacing="8">
                            <TextBlock
                                FontWeight="Bold"
                                Text="Technical Notes" />
                            <TextBlock
                                FontSize="12"
                                Foreground="{StaticResource ControlSecondaryForegroundBrush}"
                                Text="Dialogs are designed for binary decisions with PrimaryCommand (affirmative) and SecondaryCommand (negative/cancel). They focus user attention on a single decision point and should be used sparingly for critical choices."
                                TextWrapping="Wrap" />
                        </StackPanel>
                    </StackPanel>
                </husk:Card>
            </StackPanel>
        </controls:ExampleContainer>

    </StackPanel>
</controls:ControlPage>
