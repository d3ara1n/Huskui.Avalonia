<ResourceDictionary xmlns="https://github.com/avaloniaui"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:local="https://github.com/d3ara1n/Huskui.Avalonia"
                    xmlns:fi="clr-namespace:FluentIcons.Avalonia;assembly=FluentIcons.Avalonia">

    <ControlTheme x:Key="{x:Type local:Drawer}" TargetType="local:Drawer">
        <Setter Property="Background" Value="{StaticResource ControlBackgroundBrush}" />
        <Setter Property="BorderBrush" Value="{StaticResource ControlBorderBrush}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="CornerRadius" Value="{StaticResource MediumCornerRadius}" />
        <Setter Property="Padding" Value="0" />
        <Setter Property="MinWidth" Value="200" />
        <Setter Property="MinHeight" Value="100" />
        <Setter Property="Template">
            <ControlTemplate>
                <Border Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}"
                        CornerRadius="{TemplateBinding CornerRadius, Converter={x:Static local:CornerRadiusConverters.Upper}}"
                        BoxShadow="0 0 20 0 #20000000">
                    <Grid RowDefinitions="Auto,*">
                        <!-- Header -->
                        <Grid Name="{x:Static local:Drawer.PART_Header}"
                              Grid.Row="0"
                              Height="{TemplateBinding HeaderHeight}"
                              Background="Transparent"
                              VerticalAlignment="Center"
                              ColumnDefinitions="Auto,*,Auto,Auto" Margin="12,0" ColumnSpacing="12">

                            <!-- Drag Handle Icon -->

                            <fi:SymbolIcon Grid.Column="0" Symbol="ReOrderDotsVertical"
                                           FontSize="{StaticResource MediumFontSize}" />

                            <!-- Title -->
                            <TextBlock Grid.Column="1"
                                       Text="{TemplateBinding Title}"
                                       Margin="12,0"
                                       VerticalAlignment="Center"
                                       FontWeight="{StaticResource ControlStrongFontWeight}"
                                       IsHitTestVisible="False" />

                            <!-- Toggle Button -->
                            <ToggleButton
                                Grid.Column="2"
                                Padding="12,0"
                                IsChecked="{TemplateBinding IsOpen,Mode=TwoWay}"
                                Theme="{StaticResource GhostButtonTheme}">
                                <fi:SymbolIcon Name="ToggleIcon" Symbol="ChevronDown"
                                               FontSize="{StaticResource SmallFontSize}" />
                            </ToggleButton>

                            <!-- Close Button -->
                            <Button Name="{x:Static local:Drawer.PART_CloseButton}"
                                    Grid.Column="3"
                                    Theme="{StaticResource GhostButtonTheme}"
                                    Padding="12,0">
                                <fi:SymbolIcon Symbol="Dismiss" FontSize="{StaticResource SmallFontSize}" />
                            </Button>
                        </Grid>

                        <!-- Content -->
                        <ContentPresenter Grid.Row="1"
                                          Background="{StaticResource OverlaySolidBackgroundBrush}"
                                          Content="{TemplateBinding Content}"
                                          ContentTemplate="{TemplateBinding ContentTemplate}"
                                          Margin="{TemplateBinding Padding}" />

                        <!-- Resize Handles -->
                        <Border Grid.Row="0"
                                Name="{x:Static local:Drawer.PART_ResizeLeft}"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Stretch"
                                Width="4"
                                Background="Transparent"
                                Cursor="SizeWestEast"
                                Grid.RowSpan="2" />

                        <Border Grid.Row="0"
                                Name="{x:Static local:Drawer.PART_ResizeRight}"
                                HorizontalAlignment="Right"
                                VerticalAlignment="Stretch"
                                Width="4"
                                Background="Transparent"
                                Cursor="SizeWestEast"
                                Grid.RowSpan="2" />

                        <Border Grid.Row="0"
                                Name="{x:Static local:Drawer.PART_ResizeTop}"
                                VerticalAlignment="Top"
                                HorizontalAlignment="Stretch"
                                Height="4"
                                Background="Transparent"
                                Cursor="SizeNorthSouth" />
                    </Grid>
                </Border>
            </ControlTemplate>
        </Setter>

        <Style Selector="^:open">
            <Style Selector="^ /template/ fi|SymbolIcon#ToggleIcon">
                <Setter Property="Symbol" Value="ChevronDown" />
            </Style>
        </Style>

        <Style Selector="^:not(:open)">
            <Style Selector="^ /template/ fi|SymbolIcon#ToggleIcon">
                <Setter Property="Symbol" Value="ChevronUp" />
            </Style>
        </Style>

    </ControlTheme>
</ResourceDictionary>
